'use strict';function w(d,c,b,e){var a=d.h,h=d.i;d.g[(0>b?h+b:b)*a+(0>c?a+c:c)]=e}function z(d,c,b,e,a){var h=A,g=d.g,m=d.i;d=d.h;c=(0>b?m+b:b)*d+(0>c?d+c:c);for(--a;0<=a;a--,c++)g[c]=h[e>>a&1]}function B(d,c,b,e,a){var h=A,g=d.g,m=d.h;d=d.i;c=(0>b?d+b:b)*m+(0>c?m+c:c);for(--a;0<=a;a--,c-=m)g[c]=h[e>>a&1]};function D(d){var c=0,b=0;return function(e,a){for(b+=e;8<=b;)b-=8,d[c++]|=a>>b&255;b&&(d[c]|=(a&(1<<b)-1)<<8-b)}};var A=[256,1023];function G(d,c,b){for(var e=d<<2*c,a=c;0<=a;a--){var h=e^b<<a;e=h<e?h:e}return d<<2*c|e}function H(d,c){var b=c-1,e=b-2,a=b,h=!0;return function(g){for(var m=7;0<=m;m--){do{e&1?e--:h?a?(a--,e++):(h=!1,e--):++a<b?e++:(h=!0,a--,e--);var l=(a+(6<=a))*c+(e+(6<=e))}while(d[l]);d[l]=g&1<<m?255:0}}}
function I(d,c,b){function e(){5<=m&&(h+=m);m=0}var a=d.h;d=d.g;for(var h=0,g=0,m=0,l=0,p=0;l<a;l++){for(var f=0,k=0;k<a;k++,p++){var n=d[p]>>c&1;g+=n;var q=k*a+l;n^f&1&&e();b[q]=++m;if(l)if(n===(d[p-a]>>c&1))for(var t=m,r=1;t&&r<=l;r++)t=Math.min(t,b[q-r]),b[q-r]=t,h+=(t-1)*t/2*r*3;else b[q-1]=0;f=(f&63)<<1|n;93===f&&(h+=40)}e()}h+=10*Math.floor(20*Math.abs(g/(a*a)-.5));for(b=0;b<a;b++){l=g=0;for(p=b;l<a;l++,p+=a)f=d[p]>>c&1,f^g&1&&e(),m++,g=(g&63)<<1|f,93===g&&(h+=40);e()}return h};export function makeQrCode(d,c){a:{d="MLHQ".indexOf(d);if(!(0>d)){var b=[];for(var e=0;e<c.length;e++){var a=c.charCodeAt(e);if(55296===(64512&a)){var h=c.charCodeAt(e+1);56320===(64512&h)&&(a=((a&1023)<<10|h&1023)+65536)}128>a?b.push(a):2048>a?b.push(192|a>>6,128|a&63):65536>a?b.push(224|a>>12,128|a>>6&63,128|a&63):b.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}c={B:7,m:0,v:c.length,o:b,A:null};b=24+8*b.length;b=[{j:b,l:c},{j:b+8,l:c},{j:b+8,l:c}];e=["100h0o0k100q18161c191c2410261s281o2o242q2c2s28482o4o1u4p34592c5b3c5r3g6q407a2k8a2q8q488r4s9b3cab5car3sbr44cr42db4keb6ker54fr5cgr5khr5sir5ejb6ckb4slr6smr74nr7cor",
"160g0u0h1a0j1i0n1o0q1o1618172c192c1c2k2634272s293k2a222c3s3844393k3b4k3c4k3r444b4e4b4k4r5g4s505c6c6a5s6b646c3u6s687c6g7s6o8c708s789c7g9s769s80ac88as8gbc6scc90cs","0i0l0e0r0k180k240k280s2b0c2q183a0s491c4b145p145r1c8812891k991s8c1s9r1sar1ocq2ocr1acs28h91cfc34gc1ghs3kis20kc22lc2gms2ooc30ps38rc3gss3ouc1ivs491c2l3c2t5c516s3d8s","0q0i0i0o0o160s1a0s260s290o361c381c471c491k4b1k5a2c691287246c1s8p2k8b1s9b30aq2gac1mbr3gbs2scs34ds3ces28hb3chc3uhs2gjc4kkc30ls54ms3goc3ops3eqs48sc4gts4ovc510s592c"][d];var g=1;
c=0;do a=(10<=g)+(27<=g),h=parseInt(e.substring(4*g-4,4*g),32),c+=h>>11;while(b[a].j>8*c&&40>=++g);if(!(40<g)){e=a;var m=b[a].l;b=Array(c).fill(0);a=D(b);m=m.o;a(16,29092);a(e?16:8,m.length);for(e=0;e<m.length;e++)a(8,m[e]);e="7f7a9aa40b4475 d8c29f6fc75e5f719dc1 8949e311b111340d2e2b538478 1dc46fa3704a0a69698b849720861a 3b0d68bd44d11e08a34129e56232243b 774253787716c553f9298f8655357d634f effbb77195afc7d7f0dc4952ad4b2043d992 98b9f0056f6306dc70964524bb16e4c67979a5ae 59b383b0b6f413bd45281c891d7b43fd56dae61a91f5 7a76a946b2edd8667396e54982483d2bce01edf77fd99075 f633b7048862c7984d38ce189128d175e92a87444690924d2b5e fc091c0d12fbd09667ae6429a70cf7387577e97fb5647993b04a3ac5 d4f64d49c3c04b62054667b116d98a33b5f64819122ee44ad8c30b6a8296".split(" ")[h&
15];a=e.length/2;var l=h>>4&127;h=[];m=Math.floor(c/l);for(var p=l-c%l,f=0;f<l;f++){for(var k=f*m+Math.max(0,f-p),n=h,q=n.push,t=m+(f>=p),r=e.length/2-1,E=[],x=[],u=0;u<=r;u++)E.push(parseInt(e.substring(2*u,2*u+2),16)),x.push(0);for(u=0;u<t;u++)for(var J=b[k+u]^x[0],v=0;v<=r;v++){for(var F=0,y=E[v],C=J;y&&C;)C&1&&(F^=y),C>>=1,y<<=1,y&256&&(y^=285);x[v]=(v===r?0:x[v+1])^F}q.call(n,{m:k,s:x})}e=17+4*g;l=g;f=17+4*l;g={g:Array(f*f).fill(0),h:f,i:f};for(k=7;k<f;k+=8)B(g,6,k,85,8),z(g,k,6,85,8);for(f=
0;3>f;f++){for(k=0;7>k;k++)z(g,-7*(f&1),-7*(f>>1)+k,1532159>>7*Math.min(k,6-k,2),7);z(g,-8*(f&1),2>f?7:-8,0,8);B(g,f&1?-8:7,2>f?6:-1,0,7)}if(f=2>l?0:2+l/7|0){k=17+4*l-7;n=Math.round((k-6)/(f-1));n+=n&1;for(q=[6];--f;)q.push(k),k-=n;f=q}else f=[];k=f.length;for(n=k*k;0<n--;)if(1<n&&n!==k)for(q=f[n%k],t=f[n/k|0],r=0;5>r;r++)z(g,q-2,t-2+r,22079>>5*Math.min(r,4-r),5);if(!(7>l))for(l=G(l,6,7973),f=5;0<=f;f--)k=l>>3*f,B(g,f,-9,k,3),z(g,-11,f,(k&1)<<2|k&2|(k&4)>>2,3);l=[-1,-2,-3,-4,-5,-6,-7,-8,7,5,4,3,2,
1,0];f=[0,1,2,3,4,5,7,8,-7,-6,-5,-4,-3,-2,-1];k=[];for(n=0;8>n;n++)k.push(G(d<<3|n,5,1335)^21522);for(d=l.length;0<=--d;){n=256;for(q=0;8>q;q++)n|=(k[q]>>d&1)<<q;w(g,l[d],8,n);w(g,8,f[d],n)}w(g,8,-8,A[1]);d=H(g.g,e);for(k=f=l=0;l<c;l++)d(b[h[f].m+k]),++f>=h.length&&(f=++k<m?0:p);for(c=0;c<a;c++)for(b=0;b<h.length;b++)d(h[b].s[c]);d=g.g;for(c=0;c<e;c++)for(b=0;b<e;b++)a=c*e+b,h=d[a],256>h&&(m=c*b&1,p=c*b%3,d[a]=h^(((c+b)%2&1)<<0|(c&1)<<1|(0!==b%3)<<2|(0!==(c+b)%3)<<3|((c>>1)+(b/3|0)&1)<<4|(0!==m+p)<<
5|(m+p&1)<<6|(p+(c+b&1)&1)<<7)^255);c=d=0;b=g.g.slice();for(a=0;8>a;a++)if(h=I(g,a,b),!a||h<c)d=a,c=h;d=1<<d;c=g.h;b=g.i;a=g.g;h=[];for(p=m=0;m<b;m++)for(l=g=0;l<=c;l++)l<c&&a[p++]&d?g++:g&&(h.push("M"+(4+l-g)+" "+(4+m)+".5 h"+g),g=0);d={u:e+8,path:h.join(" ")};break a}}d=void 0}return{sideLength:d.u,path:d.path}};
