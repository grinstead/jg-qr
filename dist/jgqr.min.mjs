'use strict';function w(b,g,e,c){var a=b.h,h=b.i;b.g[(0>e?h+e:e)*a+(0>g?a+g:g)]=c}function z(b,g,e,c,a){var h=A,f=b.g,k=b.i;b=b.h;g=(0>e?k+e:e)*b+(0>g?b+g:g);for(--a;0<=a;a--,g++)f[g]=h[c>>a&1]}function B(b,g,e,c,a){var h=A,f=b.g,k=b.h;b=b.i;g=(0>e?b+e:e)*k+(0>g?k+g:g);for(--a;0<=a;a--,g-=k)f[g]=h[c>>a&1]};var A=[256,1023];function D(b,g,e){for(var c=b<<2*g,a=g;0<=a;a--){var h=c^e<<a;c=h<c?h:c}return b<<2*g|c}function G(b,g){var e=g-1,c=e-2,a=e,h=!0;return function(f){for(var k=7;0<=k;k--){do{c&1?c--:h?a?(a--,c++):(h=!1,c--):++a<e?c++:(h=!0,a--,c--);var n=(a+(6<=a))*g+(c+(6<=c))}while(b[n]);b[n]=f&1<<k?255:0}}}
function H(b,g,e){function c(){5<=k&&(h+=k);k=0}var a=b.h;b=b.g;for(var h=0,f=0,k=0,n=0,p=0;n<a;n++){for(var d=0,l=0;l<a;l++,p++){var m=b[p]>>g&1;f+=m;var q=l*a+n;m^d&1&&c();e[q]=++k;if(n)if(m===(b[p-a]>>g&1))for(var t=k,r=1;t&&r<=n;r++)t=Math.min(t,e[q-r]),e[q-r]=t,h+=(t-1)*t/2*r*3;else e[q-1]=0;d=(d&63)<<1|m;93===d&&(h+=40)}c()}h+=10*Math.floor(20*Math.abs(f/(a*a)-.5));for(e=0;e<a;e++){n=f=0;for(p=e;n<a;n++,p+=a)d=b[p]>>g&1,d^f&1&&c(),k++,f=(f&63)<<1|d,93===f&&(h+=40);c()}return h};export function makeQrCode(b,g){a:{var e="MLHQ".indexOf(b);if(!(0>e)){b=[113,164,0,0];for(var c=0;c<g.length;c++){var a=g.charCodeAt(c);if(55296===(64512&a)){var h=g.charCodeAt(c+1);56320===(64512&h)&&(a=((a&1023)<<10|h&1023)+65536)}128>a?b.push(a):2048>a?b.push(192|a>>6,128|a&63):65536>a?b.push(224|a>>12,128|a>>6&63,128|a&63):b.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}g=b.length-4;b[2]=g>>8;b[3]=g&255;a=["100h0o0k100q18161c191c2410261s281o2o242q2c2s28482o4o1u4p34592c5b3c5r3g6q407a2k8a2q8q488r4s9b3cab5car3sbr44cr42db4keb6ker54fr5cgr5khr5sir5ejb6ckb4slr6smr74nr7cor",
"160g0u0h1a0j1i0n1o0q1o1618172c192c1c2k2634272s293k2a222c3s3844393k3b4k3c4k3r444b4e4b4k4r5g4s505c6c6a5s6b646c3u6s687c6g7s6o8c708s789c7g9s769s80ac88as8gbc6scc90cs","0i0l0e0r0k180k240k280s2b0c2q183a0s491c4b145p145r1c8812891k991s8c1s9r1sar1ocq2ocr1acs28h91cfc34gc1ghs3kis20kc22lc2gms2ooc30ps38rc3gss3ouc1ivs491c2l3c2t5c516s3d8s","0q0i0i0o0o160s1a0s260s290o361c381c471c491k4b1k5a2c691287246c1s8p2k8b1s9b30aq2gac1mbr3gbs2scs34ds3ces28hb3chc3uhs2gjc4kkc30ls54ms3goc3ops3eqs48sc4gts4ovc510s592c"][e];var f=1;
c=0;do h=parseInt(a.substring(4*f-4,4*f),32),c+=h>>11;while(g+(10>f?3:4)>c&&40>=++f);if(!(40<f)){for(10>f&&b.splice(2,1);b.push(0)<c;);g="7f7a9aa40b4475 d8c29f6fc75e5f719dc1 8949e311b111340d2e2b538478 1dc46fa3704a0a69698b849720861a 3b0d68bd44d11e08a34129e56232243b 774253787716c553f9298f8655357d634f effbb77195afc7d7f0dc4952ad4b2043d992 98b9f0056f6306dc70964524bb16e4c67979a5ae 59b383b0b6f413bd45281c891d7b43fd56dae61a91f5 7a76a946b2edd8667396e54982483d2bce01edf77fd99075 f633b7048862c7984d38ce189128d175e92a87444690924d2b5e fc091c0d12fbd09667ae6429a70cf7387577e97fb5647993b04a3ac5 d4f64d49c3c04b62054667b116d98a33b5f64819122ee44ad8c30b6a8296".split(" ")[h&
15];a=g.length/2;var k=h>>4&127;h=[];for(var n=Math.floor(c/k),p=k-c%k,d=0;d<k;d++){for(var l=d*n+Math.max(0,d-p),m=h,q=m.push,t=n+(d>=p),r=g.length/2-1,E=[],x=[],u=0;u<=r;u++)E.push(parseInt(g.substring(2*u,2*u+2),16)),x.push(0);for(u=0;u<t;u++)for(var I=b[l+u]^x[0],v=0;v<=r;v++){for(var F=0,y=E[v],C=I;y&&C;)C&1&&(F^=y),C>>=1,y<<=1,y&256&&(y^=285);x[v]=(v===r?0:x[v+1])^F}q.call(m,{m:l,j:x})}g=17+4*f;k=f;d=17+4*k;f={g:Array(d*d).fill(0),h:d,i:d};for(l=7;l<d;l+=8)B(f,6,l,85,8),z(f,l,6,85,8);for(d=
0;3>d;d++){for(l=0;7>l;l++)z(f,-7*(d&1),-7*(d>>1)+l,1532159>>7*Math.min(l,6-l,2),7);z(f,-8*(d&1),2>d?7:-8,0,8);B(f,d&1?-8:7,2>d?6:-1,0,7)}if(d=2>k?0:2+k/7|0){l=17+4*k-7;m=Math.round((l-6)/(d-1));m+=m&1;for(q=[6];--d;)q.push(l),l-=m;d=q}else d=[];l=d.length;for(m=l*l;0<m--;)if(1<m&&m!==l)for(q=d[m%l],t=d[m/l|0],r=0;5>r;r++)z(f,q-2,t-2+r,22079>>5*Math.min(r,4-r),5);if(!(7>k))for(k=D(k,6,7973),d=5;0<=d;d--)l=k>>3*d,B(f,d,-9,l,3),z(f,-11,d,(l&1)<<2|l&2|(l&4)>>2,3);k=[-1,-2,-3,-4,-5,-6,-7,-8,7,5,4,3,2,
1,0];d=[0,1,2,3,4,5,7,8,-7,-6,-5,-4,-3,-2,-1];l=[];for(m=0;8>m;m++)l.push(D(e<<3|m,5,1335)^21522);for(e=k.length;0<=--e;){m=256;for(q=0;8>q;q++)m|=(l[q]>>e&1)<<q;w(f,k[e],8,m);w(f,8,d[e],m)}w(f,8,-8,A[1]);e=G(f.g,g);for(l=d=k=0;k<c;k++)e(b[h[d].m+l]),++d>=h.length&&(d=++l<n?0:p);for(b=0;b<a;b++)for(c=0;c<h.length;c++)e(h[c].j[b]);b=f.g;for(c=0;c<g;c++)for(a=0;a<g;a++)h=c*g+a,e=b[h],256>e&&(n=c*a&1,p=c*a%3,b[h]=e^(((c+a)%2&1)<<0|(c&1)<<1|(0!==a%3)<<2|(0!==(c+a)%3)<<3|((c>>1)+(a/3|0)&1)<<4|(0!==n+p)<<
5|(n+p&1)<<6|(p+(c+a&1)&1)<<7)^255);c=b=0;a=f.g.slice();for(h=0;8>h;h++)if(e=H(f,h,a),!h||e<c)b=h,c=e;b=1<<b;c=f.h;a=f.i;h=f.g;e=[];for(p=n=0;n<a;n++)for(k=f=0;k<=c;k++)k<c&&h[p++]&b?f++:f&&(e.push("M"+(4+k-f)+" "+(4+n)+".5 h"+f),f=0);b={l:g+8,path:e.join(" ")};break a}}b=void 0}return{sideLength:b.l,path:b.path}};
