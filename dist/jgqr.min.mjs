'use strict';function w(b,f,e,c){var a=b.h,h=b.i;b.g[(0>e?h+e:e)*a+(0>f?a+f:f)]=c}function z(b,f,e,c,a){var h=A,g=b.g,k=b.i;b=b.h;f=(0>e?k+e:e)*b+(0>f?b+f:f);for(--a;0<=a;a--,f++)g[f]=h[c>>a&1]}function B(b,f,e,c,a){var h=A,g=b.g,k=b.h;b=b.i;f=(0>e?b+e:e)*k+(0>f?k+f:f);for(--a;0<=a;a--,f-=k)g[f]=h[c>>a&1]};var D=[[32785,24596,32794,40998,45097,45124,32838,61512,57432,69722,77916,73864,90264,63641,102569,77995,110779,114906,131306,86282,92442,139547,160043,110923,176475,127355,135579,133547,152011,217563,168443,176667,184891,193115,178795,209547,160443,226011,234235,242459],[38928,30737,43027,51223,57370,57382,40999,77865,77868,86086,102471,94281,118858,67660,127080,135273,118891,151660,151675,135307,145547,151707,180380,164012,209098,192715,200908,129244,205036,213244,221452,229660,237868,246076,235836,
262476,270684,278892,225676,295324],[18453,14363,20520,20548,20552,28747,12378,41066,28809,45195,37049,37051,45320,35081,53545,61708,61755,61787,57754,90523,43420,74281,45548,102924,49724,119388,66188,68268,82652,90892,99132,107372,115612,123852,52220,140332,87148,95404,165084,111900],[26642,18456,24614,28714,28742,28745,24678,45160,45191,45193,53387,53418,78025,35079,69836,61721,86283,61739,98650,82252,55675,115068,94620,102844,111068,74283,111148,129596,82540,152204,99004,168668,115468,123708,113500,
140172,148412,156652,164892,173132]];var A=[256,1023];function G(b,f,e){for(var c=b<<2*f,a=f;0<=a;a--){var h=c^e<<a;c=h<c?h:c}return b<<2*f|c}function H(b,f){var e=f-1,c=e-2,a=e,h=!0;return function(g){for(var k=7;0<=k;k--){do{c&1?c--:h?a?(a--,c++):(h=!1,c--):++a<e?c++:(h=!0,a--,c--);var n=(a+(6<=a))*f+(c+(6<=c))}while(b[n]);b[n]=g&1<<k?255:0}}}
function I(b,f,e){function c(){5<=k&&(h+=k);k=0}var a=b.h;b=b.g;for(var h=0,g=0,k=0,n=0,p=0;n<a;n++){for(var d=0,l=0;l<a;l++,p++){var m=b[p]>>f&1;g+=m;var q=l*a+n;m^d&1&&c();e[q]=++k;if(n)if(m===(b[p-a]>>f&1))for(var t=k,r=1;t&&r<=n;r++)t=Math.min(t,e[q-r]),e[q-r]=t,h+=(t-1)*t/2*r*3;else e[q-1]=0;d=(d&63)<<1|m;93===d&&(h+=40)}c()}h+=10*Math.floor(20*Math.abs(g/(a*a)-.5));for(e=0;e<a;e++){n=g=0;for(p=e;n<a;n++,p+=a)d=b[p]>>f&1,d^g&1&&c(),k++,g=(g&63)<<1|d,93===g&&(h+=40);c()}return h};export function makeQrCode(b,f){a:{var e="MLHQ".indexOf(b);if(!(0>e)){b=[113,164,0,0];for(var c=0;c<f.length;c++){var a=f.charCodeAt(c);if(55296===(64512&a)){var h=f.charCodeAt(c+1);56320===(64512&h)&&(a=((a&1023)<<10|h&1023)+65536)}128>a?b.push(a):2048>a?b.push(192|a>>6,128|a&63):65536>a?b.push(224|a>>12,128|a>>6&63,128|a&63):b.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}f=b.length-4;b[2]=f>>8;b[3]=f&255;a=D[e];var g=1;c=0;do h=a[g-1],c+=h>>11;while(f+(10>g?3:4)>c&&40>=++g);if(!(40<g)){for(10>
g&&b.splice(2,1);b.push(0)<c;);f="7f7a9aa40b4475 d8c29f6fc75e5f719dc1 8949e311b111340d2e2b538478 1dc46fa3704a0a69698b849720861a 3b0d68bd44d11e08a34129e56232243b 774253787716c553f9298f8655357d634f effbb77195afc7d7f0dc4952ad4b2043d992 98b9f0056f6306dc70964524bb16e4c67979a5ae 59b383b0b6f413bd45281c891d7b43fd56dae61a91f5 7a76a946b2edd8667396e54982483d2bce01edf77fd99075 f633b7048862c7984d38ce189128d175e92a87444690924d2b5e fc091c0d12fbd09667ae6429a70cf7387577e97fb5647993b04a3ac5 d4f64d49c3c04b62054667b116d98a33b5f64819122ee44ad8c30b6a8296".split(" ")[h&
15];a=f.length/2;var k=h>>4&127;h=[];for(var n=Math.floor(c/k),p=k-c%k,d=0;d<k;d++){for(var l=d*n+Math.max(0,d-p),m=h,q=m.push,t=n+(d>=p),r=f.length/2-1,E=[],x=[],u=0;u<=r;u++)E.push(parseInt(f.substring(2*u,2*u+2),16)),x.push(0);for(u=0;u<t;u++)for(var J=b[l+u]^x[0],v=0;v<=r;v++){for(var F=0,y=E[v],C=J;y&&C;)C&1&&(F^=y),C>>=1,y<<=1,y&256&&(y^=285);x[v]=(v===r?0:x[v+1])^F}q.call(m,{m:l,j:x})}f=17+4*g;k=g;d=17+4*k;g={g:Array(d*d).fill(0),h:d,i:d};for(l=7;l<d;l+=8)B(g,6,l,85,8),z(g,l,6,85,8);for(d=
0;3>d;d++){for(l=0;7>l;l++)z(g,-7*(d&1),-7*(d>>1)+l,1532159>>7*Math.min(l,6-l,2),7);z(g,-8*(d&1),2>d?7:-8,0,8);B(g,d&1?-8:7,2>d?6:-1,0,7)}if(d=2>k?0:2+k/7|0){l=17+4*k-7;m=Math.round((l-6)/(d-1));m+=m&1;for(q=[6];--d;)q.push(l),l-=m;d=q}else d=[];l=d.length;for(m=l*l;0<m--;)if(1<m&&m!==l)for(q=d[m%l],t=d[m/l|0],r=0;5>r;r++)z(g,q-2,t-2+r,22079>>5*Math.min(r,4-r),5);if(!(7>k))for(k=G(k,6,7973),d=5;0<=d;d--)l=k>>3*d,B(g,d,-9,l,3),z(g,-11,d,(l&1)<<2|l&2|(l&4)>>2,3);k=[-1,-2,-3,-4,-5,-6,-7,-8,7,5,4,3,2,
1,0];d=[0,1,2,3,4,5,7,8,-7,-6,-5,-4,-3,-2,-1];l=[];for(m=0;8>m;m++)l.push(G(e<<3|m,5,1335)^21522);for(e=k.length;0<=--e;){m=256;for(q=0;8>q;q++)m|=(l[q]>>e&1)<<q;w(g,k[e],8,m);w(g,8,d[e],m)}w(g,8,-8,A[1]);e=H(g.g,f);for(l=d=k=0;k<c;k++)e(b[h[d].m+l]),++d>=h.length&&(d=++l<n?0:p);for(b=0;b<a;b++)for(c=0;c<h.length;c++)e(h[c].j[b]);b=g.g;for(c=0;c<f;c++)for(a=0;a<f;a++)h=c*f+a,e=b[h],256>e&&(n=c*a&1,p=c*a%3,b[h]=e^(((c+a)%2&1)<<0|(c&1)<<1|(0!==a%3)<<2|(0!==(c+a)%3)<<3|((c>>1)+(a/3|0)&1)<<4|(0!==n+p)<<
5|(n+p&1)<<6|(p+(c+a&1)&1)<<7)^255);c=b=0;a=g.g.slice();for(h=0;8>h;h++)if(e=I(g,h,a),!h||e<c)b=h,c=e;b=1<<b;c=g.h;a=g.i;h=g.g;e=[];for(p=n=0;n<a;n++)for(k=g=0;k<=c;k++)k<c&&h[p++]&b?g++:g&&(e.push("M"+(4+k-g)+" "+(4+n)+".5 h"+g),g=0);b={l:f+8,path:e.join(" ")};break a}}b=void 0}return{sideLength:b.l,path:b.path}};
